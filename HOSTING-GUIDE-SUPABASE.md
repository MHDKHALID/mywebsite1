# ๐ ุฏููู Supabase - ุงูุญู ุงูููุตู ุจู

## ููุงุฐุง Supabaseุ
- โ **ูุฌุงูู** ุญุชู 500MB ู 2GB bandwidth
- โ **ูุงุนุฏุฉ ุจูุงูุงุช PostgreSQL** ูููุฉ ูุณุฑูุนุฉ
- โ **API ุฌุงูุฒ** ุชููุงุฆูุงู ููู ุฌุฏูู
- โ **ูุง ูุญุชุงุฌ ุจุฑูุฌุฉ backend**
- โ **Dashboard ุณูู** ูุฅุฏุงุฑุฉ ุงูุจูุงูุงุช
- โ **Real-time subscriptions** ุฅุฐุง ุงุญุชุฌุชูุง ูุณุชูุจูุงู

---

## ๐ ุงูุฎุทูุงุช ุงููุงููุฉ

### 1. ุฅูุดุงุก ูุดุฑูุน Supabase

1. ุงุฐูุจ ุฅูู https://supabase.com/
2. ุงุถุบุท "Start your project"
3. ุณุฌู ุฏุฎูู ุจู GitHub
4. ุงุถุบุท "New Project"
5. ุงููุฃ ุงูุจูุงูุงุช:
   - **Name**: NextAgent
   - **Database Password**: ุงุฎุชุฑ ูููุฉ ุณุฑ ูููุฉ (ุงุญูุธูุง!)
   - **Region**: Europe (West) - ุฃูุฑุจ ููุฑูุณุง
6. ุงุถุบุท "Create new project"
7. ุงูุชุธุฑ 2-3 ุฏูุงุฆู ุญุชู ููุชูู ุงูุฅุนุฏุงุฏ

---

### 2. ุฅูุดุงุก ุงูุฌุฏุงูู (Tables)

#### ูู Supabase Dashboard:
1. ุงุฐูุจ ุฅูู **SQL Editor** (ูู ุงููุงุฆูุฉ ุงููุณุฑู)
2. ุงุถุบุท **New Query**
3. ุงูุณุฎ ูุงูุตู ูุฐุง ุงูููุฏ:

```sql
-- ========================================
-- NextAgent.tech Database Schema
-- ========================================

-- 1. Blog Posts Table
CREATE TABLE blog_posts (
    id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
    title_ar TEXT NOT NULL,
    title_en TEXT NOT NULL,
    slug TEXT UNIQUE NOT NULL,
    excerpt_ar TEXT,
    excerpt_en TEXT,
    content_ar TEXT,
    content_en TEXT,
    category TEXT,
    tags TEXT[],
    image_url TEXT,
    author TEXT,
    published BOOLEAN DEFAULT true,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
    updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- 2. Products Table
CREATE TABLE products (
    id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
    title_ar TEXT NOT NULL,
    title_en TEXT NOT NULL,
    description_ar TEXT,
    description_en TEXT,
    file_type TEXT,
    file_size TEXT,
    download_url TEXT,
    icon TEXT,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- 3. Testimonials Table
CREATE TABLE testimonials (
    id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
    name_ar TEXT NOT NULL,
    name_en TEXT NOT NULL,
    company_ar TEXT,
    company_en TEXT,
    testimonial_ar TEXT,
    testimonial_en TEXT,
    rating INTEGER CHECK (rating >= 1 AND rating <= 5),
    avatar TEXT,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- 4. Bookings Table
CREATE TABLE bookings (
    id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
    service TEXT NOT NULL,
    name TEXT NOT NULL,
    email TEXT NOT NULL,
    phone TEXT NOT NULL,
    company TEXT,
    date DATE,
    time TEXT,
    message TEXT,
    status TEXT DEFAULT 'pending',
    created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- 5. Survey Responses Table
CREATE TABLE survey_responses (
    id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
    company_name TEXT NOT NULL,
    industry TEXT,
    monthly_revenue TEXT,
    challenges TEXT[],
    contact_name TEXT,
    contact_email TEXT,
    contact_phone TEXT,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- 6. Contact Messages Table
CREATE TABLE contact_messages (
    id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
    name TEXT NOT NULL,
    email TEXT NOT NULL,
    phone TEXT,
    company TEXT,
    message TEXT NOT NULL,
    status TEXT DEFAULT 'unread',
    created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- ========================================
-- Indexes for Performance
-- ========================================
CREATE INDEX idx_blog_posts_published ON blog_posts(published, created_at DESC);
CREATE INDEX idx_blog_posts_category ON blog_posts(category);
CREATE INDEX idx_blog_posts_slug ON blog_posts(slug);
CREATE INDEX idx_bookings_date ON bookings(date, time);
CREATE INDEX idx_contact_messages_status ON contact_messages(status);

-- ========================================
-- Row Level Security (RLS) Policies
-- ========================================

-- Blog Posts: Public read access for published posts
ALTER TABLE blog_posts ENABLE ROW LEVEL SECURITY;
CREATE POLICY "Public can read published blog posts" ON blog_posts
    FOR SELECT USING (published = true);

-- Products: Public read access
ALTER TABLE products ENABLE ROW LEVEL SECURITY;
CREATE POLICY "Public can read products" ON products
    FOR SELECT USING (true);

-- Testimonials: Public read access
ALTER TABLE testimonials ENABLE ROW LEVEL SECURITY;
CREATE POLICY "Public can read testimonials" ON testimonials
    FOR SELECT USING (true);

-- Bookings: Anyone can create
ALTER TABLE bookings ENABLE ROW LEVEL SECURITY;
CREATE POLICY "Anyone can create bookings" ON bookings
    FOR INSERT WITH CHECK (true);

-- Survey Responses: Anyone can create
ALTER TABLE survey_responses ENABLE ROW LEVEL SECURITY;
CREATE POLICY "Anyone can create survey responses" ON survey_responses
    FOR INSERT WITH CHECK (true);

-- Contact Messages: Anyone can create
ALTER TABLE contact_messages ENABLE ROW LEVEL SECURITY;
CREATE POLICY "Anyone can create contact messages" ON contact_messages
    FOR INSERT WITH CHECK (true);

-- ========================================
-- Functions
-- ========================================

-- Auto-update updated_at timestamp
CREATE OR REPLACE FUNCTION update_updated_at_column()
RETURNS TRIGGER AS $$
BEGIN
    NEW.updated_at = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

CREATE TRIGGER update_blog_posts_updated_at
    BEFORE UPDATE ON blog_posts
    FOR EACH ROW
    EXECUTE FUNCTION update_updated_at_column();
```

4. ุงุถุบุท **Run** (Ctrl + Enter)
5. ูุฌุจ ุฃู ุชุฑู "Success. No rows returned"

---

### 3. ุฅุถุงูุฉ ุงูุจูุงูุงุช ุงูุชุฌุฑูุจูุฉ

#### ูู ููุณ SQL Editor:

```sql
-- ========================================
-- Sample Data for NextAgent.tech
-- ========================================

-- Insert Blog Posts
INSERT INTO blog_posts (title_ar, title_en, slug, excerpt_ar, excerpt_en, content_ar, content_en, category, tags, image_url, author, published) VALUES
('ููู ุชุญูู ุงูุฐูุงุก ุงูุงุตุทูุงุนู ุนููู ูู 2025', 'How AI Can Transform Your Business in 2025', 'ai-transform-business-2025', 'ุงูุชุดู ููู ูููู ููุฐูุงุก ุงูุงุตุทูุงุนู ุฃู ูุญุฏุซ ุซูุฑุฉ ูู ุนููู ููุฒูุฏ ูู ููุงุกุชู ุจูุณุจุฉ ุชุตู ุฅูู 70% ูู ุงูุนุงู ุงููุงุฏู.', 'Discover how AI can revolutionize your business and increase efficiency by up to 70% in the coming year.', '<h2>ููุฏูุฉ ุนู ุงูุฐูุงุก ุงูุงุตุทูุงุนู ูู ุงูุฃุนูุงู</h2><p>ุงูุฐูุงุก ุงูุงุตุทูุงุนู ุฃุตุจุญ ุถุฑูุฑุฉ ูููุณ ุฑูุงููุฉ ููุดุฑูุงุช ุงูุญุฏูุซุฉ...</p>', '<h2>Introduction to AI in Business</h2><p>Artificial Intelligence has become a necessity, not a luxury for modern businesses...</p>', 'AI & Technology', ARRAY['ุงูุฐูุงุก ุงูุงุตุทูุงุนู', 'ุงูุฃุชูุชุฉ', 'ุงูุชุญูู ุงูุฑููู'], 'https://images.unsplash.com/photo-1677442136019-21780ecad995?w=800&q=80', 'ูุฑูู NextAgent', true),

('5 ุทุฑู ูุฃุชูุชุฉ ุฎุฏูุฉ ุงูุนููุงุก ุจุงูุฑูุจูุชุงุช ุงูุฐููุฉ', '5 Ways to Automate Customer Service with Chatbots', 'automate-customer-service-chatbots', 'ุชุนูู ููููุฉ ุชุญุณูู ุฎุฏูุฉ ุงูุนููุงุก ูุชูููู ููุช ุงูุงุณุชุฌุงุจุฉ ุจูุณุจุฉ 90% ุจุงุณุชุฎุฏุงู ุงูุฑูุจูุชุงุช ุงูุฐููุฉ.', 'Learn how to improve customer service and reduce response time by 90% using AI-powered chatbots.', '<h2>ููุงุฐุง ุงูุฑูุจูุชุงุช ุงูุฐููุฉุ</h2><p>ุฎุฏูุฉ ุงูุนููุงุก ุนูู ูุฏุงุฑ ุงูุณุงุนุฉ ุฃุตุจุญุช ูุงูุนุงู...</p>', '<h2>Why Chatbots?</h2><p>24/7 customer service has become a reality...</p>', 'AI & Technology', ARRAY['ุฑูุจูุชุงุช ุงููุญุงุฏุซุฉ', 'ุฎุฏูุฉ ุงูุนููุงุก', 'ุงูุฃุชูุชุฉ'], 'https://images.unsplash.com/photo-1531746790731-6c087fecd65a?w=800&q=80', 'ุฃุญูุฏ ุงูุณุนูุฏ', true),

('ุงูุฐูุงุก ุงูุงุตุทูุงุนู ูู ุงูุฑุนุงูุฉ ุงูุตุญูุฉ: ูุณุชูุจู ุงูุทุจ', 'AI in Healthcare: The Future of Medicine', 'ai-healthcare-future-medicine', 'ููู ูุณุงุนุฏ ุงูุฐูุงุก ุงูุงุตุทูุงุนู ูู ุชุดุฎูุต ุงูุฃูุฑุงุถ ูุจูุฑุงู ูุชุญุณูู ุฑุนุงูุฉ ุงููุฑุถู ุจุฏูุฉ ุชุตู ุฅูู 95%.', 'How AI helps in early disease diagnosis and improves patient care with up to 95% accuracy.', '<h2>ุงูุฐูุงุก ุงูุงุตุทูุงุนู ูุบูุฑ ุงูุทุจ</h2><p>ูู ุชุดุฎูุต ุงูุฃูุฑุงุถ ุฅูู ุงูุชุดุงู ุงูุฃุฏููุฉ ุงูุฌุฏูุฏุฉ...</p>', '<h2>AI is Changing Medicine</h2><p>From disease diagnosis to discovering new drugs...</p>', 'Healthcare', ARRAY['ุงูุฑุนุงูุฉ ุงูุตุญูุฉ', 'ุงูุชุดุฎูุต ุงูุทุจู', 'ุงูุฐูุงุก ุงูุงุตุทูุงุนู'], 'https://images.unsplash.com/photo-1576091160399-112ba8d25d1d?w=800&q=80', 'ุฏ. ุณุงุฑุฉ ูุญูุฏ', true),

('ุงุณุชุฑุงุชูุฌูุงุช ุงูุชุณููู ุจุงูุฐูุงุก ุงูุงุตุทูุงุนู ูุนุงู 2025', 'AI Marketing Strategies for 2025', 'ai-marketing-strategies-2025', 'ุงูุชุดู ุฃุญุฏุซ ุงุณุชุฑุงุชูุฌูุงุช ุงูุชุณููู ุงููุฏุนููุฉ ุจุงูุฐูุงุก ุงูุงุตุทูุงุนู ุงูุชู ุชุถุงุนู ูุนุฏูุงุช ุงูุชุญููู.', 'Discover the latest AI-powered marketing strategies that double conversion rates.', '<h2>ุงูุชุณููู ุงูุฐูู</h2><p>ุงุณุชุฎุฏู ุงูุจูุงูุงุช ูุงูุฐูุงุก ุงูุงุตุทูุงุนู ูุงุณุชูุฏุงู ุงูุนููุงุก ุจุฏูุฉ...</p>', '<h2>Smart Marketing</h2><p>Use data and AI to target customers with precision...</p>', 'Marketing', ARRAY['ุงูุชุณููู ุงูุฑููู', 'ุงูุฐูุงุก ุงูุงุตุทูุงุนู', 'ุชุญููู ุงูุจูุงูุงุช'], 'https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=800&q=80', 'ูููู ุญุณู', true);

-- Insert Products
INSERT INTO products (title_ar, title_en, description_ar, description_en, file_type, file_size, download_url, icon) VALUES
('ุฏููู ุงูุฐูุงุก ุงูุงุตุทูุงุนู ูููุจุชุฏุฆูู', 'AI Beginner Guide', 'ุฏููู ุดุงูู ูููุจุชุฏุฆูู ูู ุนุงูู ุงูุฐูุงุก ุงูุงุตุทูุงุนู', 'Comprehensive guide for AI beginners', 'PDF', '2.5 MB', 'https://drive.google.com/file/d/example1', '๐'),
('ูุงูุจ ุฎุทุฉ ุงูุชุณููู ุงูุฑููู', 'Digital Marketing Plan Template', 'ูุงูุจ ุฌุงูุฒ ูุฅูุดุงุก ุฎุทุฉ ุชุณููู ุฑููู ุงุญุชุฑุงููุฉ', 'Ready template for professional digital marketing plan', 'DOCX', '1.2 MB', 'https://drive.google.com/file/d/example2', '๐'),
('ุฏููู ุฃุชูุชุฉ ุงูุนูููุงุช ุงูุชุฌุงุฑูุฉ', 'Business Process Automation Guide', 'ุชุนูู ููููุฉ ุฃุชูุชุฉ ุนูููุงุชู ุงูุชุฌุงุฑูุฉ', 'Learn how to automate your business processes', 'PDF', '3.1 MB', 'https://drive.google.com/file/d/example3', 'โ๏ธ');

-- Insert Testimonials
INSERT INTO testimonials (name_ar, name_en, company_ar, company_en, testimonial_ar, testimonial_en, rating, avatar) VALUES
('ูุญูุฏ ุฃุญูุฏ', 'Mohammed Ahmed', 'ุนูุงุฏุฉ ุงูููุฑ ุงูุทุจูุฉ', 'Al-Nour Medical Clinic', 'ุฎุฏูุฉ ููุชุงุฒุฉ! ุณุงุนุฏููุง ูู ุฃุชูุชุฉ ูุธุงู ุงูุญุฌูุฒุงุช ูุชุญุณูู ุชุฌุฑุจุฉ ุงููุฑุถู ุจุดูู ูุจูุฑ.', 'Excellent service! They helped us automate the booking system and greatly improve patient experience.', 5, 'M'),
('ูุงุทูุฉ ุนูู', 'Fatima Ali', 'ุตุงููู ุงูุฌูุงู ุงููููู', 'Royal Beauty Salon', 'ุงูุฑูุจูุช ุงูุฐูู ุงูุฐู ุตูููู ููุง ุฒุงุฏ ูู ููุงุกุฉ ุฎุฏูุฉ ุงูุนููุงุก ุจูุณุจุฉ 80%!', 'The chatbot they designed increased our customer service efficiency by 80%!', 5, 'F'),
('ุฎุงูุฏ ูุญููุฏ', 'Khaled Mahmoud', 'ูุชุฌุฑ ุงูุฅููุชุฑูููุงุช ุงูุฐููุฉ', 'Smart Electronics Store', 'ุงุณุชุซูุงุฑ ูุณุชุญู ูู ูุฑุด. ูุธุงู ุงูุชุณููู ุงูุขูู ุถุงุนู ูุจูุนุงุชูุง.', 'Worth every penny. The automated marketing system doubled our sales.', 5, 'K');
```

ุงุถุบุท **Run**

---

### 4. ุงูุญุตูู ุนูู API Keys

1. ูู Supabase Dashboardุ ุงุฐูุจ ุฅูู **Settings** โ **API**
2. ุณุชุฌุฏ:
   - **Project URL**: `https://xxxxxxxxxxxxx.supabase.co`
   - **anon public key**: `eyJhbGc...` (ูุณุฎุฉ ุทูููุฉ)

**ุงุญูุธ ูุฐู ุงููุนูููุงุช!**

---

### 5. ุชุนุฏูู ุงููููุน ููุนูู ูุน Supabase

#### ุฃูุดุฆ ููู ุฌุฏูุฏ: `js/supabase-config.js`

```javascript
// Supabase Configuration
const SUPABASE_URL = 'https://YOUR_PROJECT_ID.supabase.co';
const SUPABASE_ANON_KEY = 'YOUR_ANON_KEY_HERE';

// Initialize Supabase Client
const { createClient } = supabase;
const supabaseClient = createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

// Export for use in other files
window.supabaseClient = supabaseClient;
```

#### ุฃุถู ูู ูู ุตูุญุฉ HTML ูุจู `</body>`:

```html
<!-- Supabase -->
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script src="js/supabase-config.js"></script>

<!-- ุจุงูู ุงูุณูุฑูุจุชุงุช -->
<script src="js/main.js"></script>
<script src="js/blog.js"></script>
```

---

### 6. ุชุนุฏูู `js/blog.js`

**ุงุณุชุจุฏู ุงูููุฏ ุงูุญุงูู ุจูุฐุง:**

```javascript
// NextAgent.tech - Blog JavaScript with Supabase
(function() {
    'use strict';

    let currentLang = 'ar';
    let allPosts = [];
    let currentCategory = 'all';

    document.addEventListener('DOMContentLoaded', () => {
        const savedLang = localStorage.getItem('language') || 'ar';
        currentLang = savedLang;

        loadBlogPosts();
        setupFilters();
        setupNewsletterForm();
    });

    // ============ Load Blog Posts from Supabase ============
    async function loadBlogPosts() {
        const blogGrid = document.getElementById('blogGrid');
        
        try {
            // Fetch from Supabase
            const { data, error } = await supabaseClient
                .from('blog_posts')
                .select('*')
                .eq('published', true)
                .order('created_at', { ascending: false })
                .limit(100);

            if (error) throw error;

            if (data && data.length > 0) {
                allPosts = data;
                displayPosts(allPosts);
            } else {
                blogGrid.innerHTML = `
                    <div class="empty-state" style="grid-column: 1 / -1;">
                        <i class="fas fa-blog"></i>
                        <h3>${currentLang === 'ar' ? 'ูุง ุชูุฌุฏ ููุงูุงุช ุญุงููุงู' : 'No articles at the moment'}</h3>
                        <p>${currentLang === 'ar' ? 'ุชุงุจุนูุง ูุฑูุจุงู ููุฑุงุกุฉ ููุงูุงุช ุฌุฏูุฏุฉ' : 'Stay tuned for new articles'}</p>
                    </div>
                `;
            }
        } catch (error) {
            console.error('Error loading blog posts:', error);
            blogGrid.innerHTML = `<p class="error" style="grid-column: 1 / -1;">${currentLang === 'ar' ? 'ุญุฏุซ ุฎุทุฃ ูู ุชุญููู ุงูููุงูุงุช' : 'Error loading articles'}</p>`;
        }
    }

    // ============ Display Posts ============
    function displayPosts(posts) {
        const blogGrid = document.getElementById('blogGrid');
        
        if (posts.length === 0) {
            blogGrid.innerHTML = `
                <div class="empty-state" style="grid-column: 1 / -1;">
                    <i class="fas fa-search"></i>
                    <h3>${currentLang === 'ar' ? 'ูุง ุชูุฌุฏ ููุงูุงุช ูู ูุฐุง ุงูุชุตููู' : 'No articles in this category'}</h3>
                </div>
            `;
            return;
        }
        
        blogGrid.innerHTML = posts.map(post => createBlogCard(post)).join('');
    }

    // ============ Create Blog Card ============
    function createBlogCard(post) {
        const title = currentLang === 'ar' ? post.title_ar : post.title_en;
        const excerpt = currentLang === 'ar' ? post.excerpt_ar : post.excerpt_en;
        const category = post.category;
        const date = formatDate(post.created_at);
        
        const tagsHTML = post.tags && post.tags.length > 0 
            ? `<div class="blog-card-tags">${post.tags.slice(0, 3).map(tag => `<span class="blog-tag">${tag}</span>`).join('')}</div>`
            : '';
        
        return `
            <article class="blog-card" onclick="viewPost('${post.id}')">
                <div class="blog-card-image-wrapper">
                    <img src="${post.image_url}" alt="${title}" class="blog-card-image" loading="lazy">
                    <span class="blog-card-category">${category}</span>
                </div>
                <div class="blog-card-content">
                    <h2 class="blog-card-title">${title}</h2>
                    ${tagsHTML}
                    <p class="blog-card-excerpt">${excerpt}</p>
                    <div class="blog-card-meta">
                        <span class="blog-card-author">
                            <i class="fas fa-user"></i>
                            ${post.author}
                        </span>
                        <span class="blog-card-date">
                            <i class="fas fa-calendar"></i>
                            ${date}
                        </span>
                    </div>
                </div>
            </article>
        `;
    }

    // ============ Setup Filters ============
    function setupFilters() {
        const filterBtns = document.querySelectorAll('.filter-btn');
        
        filterBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                filterBtns.forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                
                const category = btn.getAttribute('data-category');
                currentCategory = category;
                
                if (category === 'all') {
                    displayPosts(allPosts);
                } else {
                    const filtered = allPosts.filter(post => post.category === category);
                    displayPosts(filtered);
                }
            });
        });
    }

    // ============ View Post ============
    function viewPost(postId) {
        window.location.href = `post.html?id=${postId}`;
    }

    // ============ Setup Newsletter Form ============
    function setupNewsletterForm() {
        const form = document.getElementById('newsletterForm');
        
        if (form) {
            form.addEventListener('submit', async (e) => {
                e.preventDefault();
                const email = form.querySelector('input[type="email"]').value;
                
                alert(currentLang === 'ar' 
                    ? 'ุดูุฑุงู ูุงุดุชุฑุงูู! ุณูุฑุณู ูู ุฃุญุฏุซ ุงูููุงูุงุช ูุฑูุจุงู.' 
                    : 'Thank you for subscribing! We\'ll send you the latest articles soon.');
                
                form.reset();
            });
        }
    }

    // ============ Format Date ============
    function formatDate(timestamp) {
        const date = new Date(timestamp);
        const options = { year: 'numeric', month: 'long', day: 'numeric' };
        
        if (currentLang === 'ar') {
            return date.toLocaleDateString('ar-EG', options);
        } else {
            return date.toLocaleDateString('en-US', options);
        }
    }

    // Export functions
    window.viewPost = viewPost;

})();
```

---

### 7. ุชุนุฏูู `js/admin.js` ููููุงูุงุช

**ุงุจุญุซ ุนู ุฏุงูุฉ loadBlogs() ูุงุณุชุจุฏููุง:**

```javascript
async function loadBlogs() {
    const blogGrid = document.getElementById('blogGrid');
    if (!blogGrid) return;
    
    try {
        const { data, error } = await supabaseClient
            .from('blog_posts')
            .select('*')
            .order('created_at', { ascending: false })
            .limit(100);

        if (error) throw error;
        
        if (data && data.length > 0) {
            blogGrid.innerHTML = data.map(blog => `
                <div class="blog-card-admin">
                    <div class="blog-image">
                        <img src="${blog.image_url || 'https://via.placeholder.com/400x250'}" alt="${blog.title_ar}">
                        <span class="blog-category">${blog.category}</span>
                    </div>
                    <div class="blog-content">
                        <h3>${blog.title_ar}</h3>
                        <p class="blog-excerpt">${blog.excerpt_ar}</p>
                        <div class="blog-meta">
                            <span><i class="fas fa-user"></i> ${blog.author}</span>
                            <span><i class="fas fa-calendar"></i> ${formatDate(blog.created_at)}</span>
                        </div>
                        <div class="blog-actions">
                            <button class="btn btn-sm btn-secondary" onclick="editBlog('${blog.id}')">
                                <i class="fas fa-edit"></i> ${currentLang === 'ar' ? 'ุชุนุฏูู' : 'Edit'}
                            </button>
                            <button class="btn btn-sm btn-danger" onclick="deleteBlog('${blog.id}')">
                                <i class="fas fa-trash"></i> ${currentLang === 'ar' ? 'ุญุฐู' : 'Delete'}
                            </button>
                        </div>
                    </div>
                </div>
            `).join('');
        } else {
            blogGrid.innerHTML = `<div class="empty-state">
                <i class="fas fa-blog"></i>
                <p>${currentLang === 'ar' ? 'ูุง ุชูุฌุฏ ููุงูุงุช ุจุนุฏ' : 'No articles yet'}</p>
            </div>`;
        }
        
        // Update badge
        const { count } = await supabaseClient
            .from('blog_posts')
            .select('*', { count: 'exact', head: true });
        document.getElementById('blogBadge').textContent = count || 0;
        
    } catch (error) {
        console.error('Error loading blogs:', error);
        blogGrid.innerHTML = `<div class="error-state">
            ${currentLang === 'ar' ? 'ุฎุทุฃ ูู ุชุญููู ุงูููุงูุงุช' : 'Error loading articles'}
        </div>`;
    }
}
```

**ุงุณุชุจุฏู ุฏุงูุฉ Blog Form Handler:**

```javascript
// Blog Form ูู setupForms()
const blogForm = document.getElementById('blogForm');
if (blogForm) {
    blogForm.addEventListener('submit', async (e) => {
        e.preventDefault();
        
        const formData = new FormData(e.target);
        const data = Object.fromEntries(formData.entries());
        
        // Convert tags to array
        data.tags = data.tags ? data.tags.split(',').map(tag => tag.trim()) : [];
        data.published = !!data.published;
        
        try {
            let result;
            if (editingBlogId) {
                // Update
                const { data: updatedData, error } = await supabaseClient
                    .from('blog_posts')
                    .update(data)
                    .eq('id', editingBlogId)
                    .select();
                
                if (error) throw error;
                result = updatedData;
            } else {
                // Insert
                const { data: insertedData, error } = await supabaseClient
                    .from('blog_posts')
                    .insert([data])
                    .select();
                
                if (error) throw error;
                result = insertedData;
            }
            
            closeModal('blogModal');
            loadBlogs();
            loadDashboardStats();
            alert(currentLang === 'ar' ? 'ุชู ุญูุธ ุงูููุงู ุจูุฌุงุญ!' : 'Article saved successfully!');
        } catch (error) {
            console.error('Error saving blog post:', error);
            alert(currentLang === 'ar' ? 'ุญุฏุซ ุฎุทุฃ ุฃุซูุงุก ุญูุธ ุงูููุงู' : 'Error saving article');
        }
    });
}
```

**ุงุณุชุจุฏู editBlog() ู deleteBlog():**

```javascript
// Edit Blog
async function editBlog(blogId) {
    try {
        const { data: blog, error } = await supabaseClient
            .from('blog_posts')
            .select('*')
            .eq('id', blogId)
            .single();
        
        if (error) throw error;
        
        editingBlogId = blogId;
        
        const form = document.getElementById('blogForm');
        form.elements['title_ar'].value = blog.title_ar;
        form.elements['title_en'].value = blog.title_en;
        form.elements['slug'].value = blog.slug;
        form.elements['excerpt_ar'].value = blog.excerpt_ar;
        form.elements['excerpt_en'].value = blog.excerpt_en;
        form.elements['content_ar'].value = blog.content_ar;
        form.elements['content_en'].value = blog.content_en;
        form.elements['category'].value = blog.category;
        form.elements['author'].value = blog.author;
        form.elements['image_url'].value = blog.image_url;
        form.elements['tags'].value = Array.isArray(blog.tags) ? blog.tags.join(', ') : '';
        form.elements['published'].checked = blog.published;
        
        document.getElementById('blogModalTitle').textContent = currentLang === 'ar' ? 'ุชุนุฏูู ุงูููุงู' : 'Edit Article';
        openModal('blogModal');
    } catch (error) {
        console.error('Error loading blog post:', error);
        alert(currentLang === 'ar' ? 'ุญุฏุซ ุฎุทุฃ ูู ุชุญููู ุงูููุงู' : 'Error loading article');
    }
}

// Delete Blog
async function deleteBlog(blogId) {
    if (!confirm(currentLang === 'ar' ? 'ูู ุฃูุช ูุชุฃูุฏ ูู ุญุฐู ูุฐุง ุงูููุงูุ' : 'Are you sure you want to delete this article?')) {
        return;
    }
    
    try {
        const { error } = await supabaseClient
            .from('blog_posts')
            .delete()
            .eq('id', blogId);
        
        if (error) throw error;
        
        loadBlogs();
        loadDashboardStats();
        alert(currentLang === 'ar' ? 'ุชู ุญุฐู ุงูููุงู ุจูุฌุงุญ!' : 'Article deleted successfully!');
    } catch (error) {
        console.error('Error deleting blog post:', error);
        alert(currentLang === 'ar' ? 'ุญุฏุซ ุฎุทุฃ ุฃุซูุงุก ุญุฐู ุงูููุงู' : 'Error deleting article');
    }
}
```

---

### 8. ุฑูุน ุงููููุน

ุงูุขู ุจุนุฏ ุชุนุฏูู ุงูููุฏ ููุนูู ูุน Supabaseุ ููููู ุฑูุน ุงููููุน ุนูู ุฃู ุงุณุชุถุงูุฉ ุซุงุจุชุฉ ูุฌุงููุฉ:

#### **ุงูุฎูุงุฑ 1: Netlify (ูููุตู ุจู)**

1. ุงุฐูุจ ุฅูู https://www.netlify.com/
2. ุณุฌู ุฏุฎูู ุจู GitHub
3. ุงุณุญุจ ูุฌูุฏ ุงููููุน ูุงุชุฑูู (Drag & Drop)
4. ุณูุชู ูุดุฑ ุงููููุน ููุฑุงู
5. ุณุชุญุตู ุนูู ุฑุงุจุท ูุซู: `https://nextagent.netlify.app`

#### **ุงูุฎูุงุฑ 2: Vercel**

```bash
npm install -g vercel
vercel
```

#### **ุงูุฎูุงุฑ 3: GitHub Pages**

```bash
# Create repository on GitHub
git init
git add .
git commit -m "Initial commit"
git branch -M main
git remote add origin https://github.com/yourusername/nextagent.git
git push -u origin main

# Enable GitHub Pages ูู Settings
```

---

### 9. ุฑุจุท Domain ุงูุฎุงุต ุจู

#### ุฅุฐุง ุงุดุชุฑูุช ูุทุงู (Domain) ูุซู nextagent.tech:

1. ูู Netlify/Vercelุ ุงุฐูุจ ุฅูู **Domain Settings**
2. ุงุถุบุท **Add custom domain**
3. ุฃุฏุฎู `nextagent.tech`
4. ุณุชุญุตู ุนูู DNS records
5. ุงุฐูุจ ุฅูู ูุฒูุฏ ุงููุทุงู (GoDaddy, Namecheap, etc.)
6. ุฃุถู ูุฐู ุงูุณุฌูุงุช:

```
Type    Name    Value
A       @       75.2.60.5
CNAME   www     your-site.netlify.app
```

7. ุงูุชุธุฑ 1-24 ุณุงุนุฉ ููุดุฑ ุงูุชุบููุฑุงุช

---

## ๐ ุงูุชูู!

ุงูุขู ูููุนู ูุนูู ูุน:
- โ Supabase (ูุงุนุฏุฉ ุจูุงูุงุช PostgreSQL ูููุฉ)
- โ ุงุณุชุถุงูุฉ ุซุงุจุชุฉ ูุฌุงููุฉ (Netlify/Vercel)
- โ HTTPS ุชููุงุฆู
- โ CDN ุนุงููู ุณุฑูุน
- โ ููุญุฉ ุชุญูู ูุฅุฏุงุฑุฉ ุงูุจูุงูุงุช

---

## ๐ ููุฏุนู

ุฅุฐุง ูุงุฌูุช ุฃู ูุดููุฉ:
1. ุชุญูู ูู Console ูู ุงููุชุตูุญ (F12)
2. ุชุฃูุฏ ูู Supabase URL ู API Key ุตุญูุญุฉ
3. ุชุฃูุฏ ูู RLS Policies ููุงุณุจุฉ
4. ุฑุงุฌุน Supabase Logs ูู Dashboard

**ุชูุงูููุง! ูููุนู ุงูุขู ุนูู ุงุณุชุถุงูุฉ ูุฌุงููุฉ ูุน ูุงุนุฏุฉ ุจูุงูุงุช ูููุฉ! ๐**
